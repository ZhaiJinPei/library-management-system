"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[443],{3811:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});a(560);var r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{padding:"10px"}},[e("div",{staticStyle:{width:"92%","margin-left":"3px","padding-top":"5px",height:"20px","font-family":"'roboto mono', monospace",background:"#ffffff","border-radius":"5px"}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",[t._v(" "),e("em",[e("strong",[t._v("User 用户")])])]),e("el-breadcrumb-item",[t._v(" "),e("em",[e("strong",[t._v("User List 用户详情")])])])],1)],1),e("div",{staticStyle:{"margin-bottom":"5px","margin-top":"10px"}},[e("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter user email"},model:{value:t.params.email,callback:function(e){t.$set(t.params,"email",e)},expression:"params.email"}}),e("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter user id"},model:{value:t.params.uid,callback:function(e){t.$set(t.params,"uid",e)},expression:"params.uid"}}),e("el-button",{staticStyle:{"margin-left":"2px",height:"40px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.load}},[t._v("Search")]),e("el-button",{staticStyle:{"margin-left":"2px",height:"40px"},attrs:{type:"warning",icon:"el-icon-refresh-right"},on:{click:t.reset}},[t._v("Reset")])],1),e("div",{staticStyle:{"margin-top":"10px","margin-right":"10px",width:"92%"}},[e("el-table",{staticStyle:{width:"100%","margin-left":"3px","font-size":"24px","font-family":"'roboto mono', monospace"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{label:"Status",prop:"status",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",width:"50"},on:{change:function(e){return t.changeStatus(a.row)}},model:{value:a.row.status,callback:function(e){t.$set(a.row,"status",e)},expression:"scope2.row.status"}})]}}])}),e("el-table-column",{attrs:{label:"User ID",prop:"uid","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"Username",prop:"username","show-overflow-tooltip":"",width:"140"}}),e("el-table-column",{attrs:{label:"First Name",prop:"fname",width:"160"}}),e("el-table-column",{attrs:{label:"Last Name",prop:"lname",width:"140"}}),e("el-table-column",{attrs:{label:"Age",prop:"age",width:"60"}}),e("el-table-column",{attrs:{label:"Email",prop:"email","show-overflow-tooltip":"",width:"280"}}),e("el-table-column",{attrs:{label:"Phone",prop:"phone",width:"180"}}),e("el-table-column",{attrs:{label:"Province/State",prop:"province",width:"220"}}),e("el-table-column",{attrs:{label:"City",prop:"city","show-overflow-tooltip":"",width:"100"}}),e("el-table-column",{attrs:{label:"Street",prop:"street","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"Create Date",prop:"ctime",width:"200"}}),e("el-table-column",{attrs:{label:"Update Date",prop:"utime",width:"200"}}),e("el-table-column",{attrs:{label:"Score",prop:"acredit",width:"90"}}),e("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"300"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.chargeOpen(a.row)}}},[t._v("Recharge")]),e("el-button",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/editUser?email="+a.row.email)}}},[t._v("Edit ")]),e("el-popconfirm",{attrs:{"confirm-button-text":"Yes","cancel-button-text":"No",title:"Are you sure you want to delete this row of data？"},on:{confirm:function(e){return t.del(a.row.email)}}},[e("el-button",{staticStyle:{"margin-left":"0","margin-top":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("Delete")])],1)]}}])})],1),e("el-dialog",{staticStyle:{"text-align":"center"},attrs:{visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("div",{staticStyle:{"font-size":"30px","font-family":"'roboto mono', monospace"}},[t._v("Charge Up User's Account"),e("br"),t._v("充值账户积分 ")]),e("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"15px",width:"80vh"},attrs:{model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"User email: ","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("el-form-item",{attrs:{label:"Current credit: ","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:t.form.acredit,callback:function(e){t.$set(t.form,"acredit",e)},expression:"form.acredit"}})],1),e("el-form-item",{attrs:{label:"Charge amount: ","label-width":t.formLabelWidth,prop:"charge"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.charge,callback:function(e){t.$set(t.form,"charge",e)},expression:"form.charge"}})],1)],1),e("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-top":"-40px"},attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.chargeUser}},[t._v("Confirm")]),e("el-button",{attrs:{type:"warning"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1),e("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{background:"","current-page":t.params.pageNum,"page-size":t.params.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.changePageNum}})],1)])},l=[],o=a(4471),i={name:"List",data(){const t=(t,e,a)=>{e||a(new Error("This blank cannot be empty")),/^[0-9]*$/.test(e)||a(new Error("Please enter a numerical value")),parseInt(e)<0&&a(new Error("Please enter a number larger than 0")),a()};return{tableData:[],total:0,form:{},dialogFormVisible:!1,formLabelWidth:"200px",params:{pageNum:1,pageSize:10,email:"",uid:""},rules:{charge:[{required:!0,validator:t,trigger:"blur"}]}}},created(){this.load()},methods:{load(){o.Z.get("user/page",{params:this.params}).then((t=>{"200"===t.code&&(this.tableData=t.data.list,this.total=t.data.total)}))},del(t){o.Z.delete("user/delete/"+t).then((t=>{"200"===t.code?(this.$notify.success("Deleted"),this.load()):this.$notify.error(t.msg)}))},reset(){this.params={pageNum:1,pageSize:10,email:"",uid:""},this.value="",this.load()},changePageNum(t){this.params.pageNum=t,this.load()},chargeOpen(t){this.dialogFormVisible=!0,this.form=t},cancel(){this.dialogFormVisible=!1,this.$refs["ruleForm"].resetFields()},chargeUser(){o.Z.post("/user/charge",this.form).then((t=>{"200"===t.code?(this.$notify.success("Success"),this.$refs["ruleForm"].resetFields(),this.dialogFormVisible=!1,location.reload()):this.$notify.error(t.msg)}))},changeStatus(t){o.Z.put("user/update",t).then((t=>{"200"===t.code?(this.$notify.success("Status updated"),this.load()):this.$notify.error(t.msg)}))}}},s=i,n=a(1001),c=(0,n.Z)(s,r,l,!1,null,"7e6b8fe6",null),p=c.exports}}]);
//# sourceMappingURL=about.05612183.js.map