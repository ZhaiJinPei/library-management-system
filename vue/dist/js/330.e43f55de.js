"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[330],{2330:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"10px"}},[t("div",{staticStyle:{width:"99%","margin-left":"5px","padding-top":"5px",height:"20px","font-family":"'roboto mono', monospace",background:"#ffffff","border-radius":"5px"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v(" "),t("em",[t("strong",[e._v("Books 图书")])])]),t("el-breadcrumb-item",[e._v(" "),t("em",[t("strong",[e._v("Edit Book 编辑图书")])])])],1)],1),t("div",{staticStyle:{"font-size":"50px","font-family":"'roboto mono', monospace","margin-left":"50px","margin-bottom":"50px","margin-top":"50px"}},[e._v(" Edit Book 编辑图书 ")]),t("div",{staticStyle:{width:"30%",transform:"scale(2,2)","margin-left":"500px","margin-top":"300px"}},[t("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.form,rules:e.rules}},[t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"ISBN: ",prop:"isbn"}},[t("el-input",{attrs:{placeholder:"Enter isbn",disabled:!0},model:{value:e.form.isbn,callback:function(t){e.$set(e.form,"isbn",t)},expression:"form.isbn"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Description: ",prop:"description"}},[t("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"Enter description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Name: ",prop:"name"}},[t("el-input",{attrs:{placeholder:"Enter name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Category: "}},[t("el-cascader",{attrs:{props:{value:"name",label:"name"},options:e.categories},model:{value:e.form.categories,callback:function(t){e.$set(e.form,"categories",t)},expression:"form.categories"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Author: ",prop:"author"}},[t("el-input",{attrs:{placeholder:"Enter last name"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Publisher: ",prop:"publisher"}},[t("el-input",{attrs:{placeholder:"Enter publisher name"},model:{value:e.form.publisher,callback:function(t){e.$set(e.form,"publisher",t)},expression:"form.publisher"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Publish Date: ",prop:"publish_date"}},[t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"Select a date"},model:{value:e.form.publish_date,callback:function(t){e.$set(e.form,"publish_date",t)},expression:"form.publish_date"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"credit",label:"Score: ",prop:"credit"}},[t("el-input",{attrs:{placeholder:"Enter score value"},model:{value:e.form.credit,callback:function(t){e.$set(e.form,"credit",t)},expression:"form.credit"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"cover",label:"Cover url: ",prop:"cover"}},[t("el-input",{attrs:{placeholder:"Enter cover url"},model:{value:e.form.cover,callback:function(t){e.$set(e.form,"cover",t)},expression:"form.cover"}})],1),t("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"number",label:"Number: ",prop:"number"}},[t("el-input",{attrs:{placeholder:"Enter number"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1)],1),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{staticStyle:{height:"40px","min-width":"100px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("Submit")])],1)],1)])},o=[],l=(r(560),r(4471)),i={name:"Edit",data(){const e=(e,t,r)=>{t||r(new Error("This blank cannot be empty")),/^[0-9]*$/.test(t)||r(new Error("Please enter a numerical value")),parseInt(t)<0&&r(new Error("Please enter a number larger than 0")),r()},t=(e,t,r)=>{t||r(new Error("Please enter the book's ISBN")),/^[0-9]{10}$/.test(t)||r(new Error("Illegal ISBN")),r()};return{form:{},categories:[],rules:{name:[{required:!0,message:"Please enter the book's name",trigger:"blur"}],category:[{required:!0,message:"Please enter the book's category",trigger:"blur"}],author:[{required:!0,message:"Please enter the book's author",trigger:"blur"}],publisher:[{required:!0,message:"Please enter the book's publisher",trigger:"blur"}],publish_date:[{required:!0,message:"Please select a date",trigger:"blur"}],isbn:[{required:!0,validator:t,trigger:"blur"}],number:[{required:!0,validator:e,trigger:"blur"}],credit:[{required:!0,validator:e,trigger:"blur"}]}}},created(){const e=this.$route.query.isbn;l.Z.get("/book/"+e).then((e=>{this.form=e.data,this.form.category&&(this.form.categories=this.form.category.split(" > "))})),l.Z.get("category/tree").then((e=>{this.categories=e.data}))},methods:{save(){this.$refs["ruleForm"].validate((e=>{e&&l.Z.put("book/update",this.form).then((e=>{"200"===e.code?(this.$notify.success("Updated"),this.$router.push("/BookList")):this.$notify.error(e.msg)}))}))}}},s=i,n=r(1001),m=(0,n.Z)(s,a,o,!1,null,"2eee2ea2",null),c=m.exports}}]);
//# sourceMappingURL=330.e43f55de.js.map