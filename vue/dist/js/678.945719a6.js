"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[678],{7678:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});a(560);var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"10px"}},[t("div",{staticStyle:{width:"99%","margin-left":"3px","padding-top":"5px",height:"20px","font-family":"'roboto mono', monospace",background:"#ffffff","border-radius":"5px"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v(" "),t("em",[t("strong",[e._v("Categories 图书类型")])])]),t("el-breadcrumb-item",[e._v(" "),t("em",[t("strong",[e._v("Category List 类型详情")])])])],1)],1),t("div",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[t("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter category"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}}),t("el-button",{staticStyle:{"margin-left":"5px",height:"40px"},attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.load}},[e._v("Search ")]),t("el-button",{staticStyle:{"margin-left":"5px",height:"40px"},attrs:{icon:"el-icon-refresh-right",type:"warning"},on:{click:e.reset}},[e._v(" Reset ")])],1),t("el-table",{staticStyle:{"margin-left":"4px",width:"99%","font-size":"20px","font-family":"'roboto mono', monospace"},attrs:{data:e.tableData,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"id",stripe:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),t("el-table-column",{attrs:{label:"Category Name",prop:"name",width:"250"}}),t("el-table-column",{attrs:{prop:"remark",label:"Remark"}}),t("el-table-column",{attrs:{prop:"cDate",label:"Create Date"}}),t("el-table-column",{attrs:{prop:"uDate",label:"Update Date"}}),t("el-table-column",{attrs:{label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.pid?e._e():t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.addChild(a.row)}}},[e._v(" New Child Category ")]),t("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/editCategory?name="+a.row.name)}}},[e._v(" Edit ")]),t("el-popconfirm",{attrs:{"confirm-button-text":"Yes","cancel-button-text":"No",title:"Are you sure you want to delete this row of data？"},on:{confirm:function(t){return e.del(a.row.name)}}},[t("el-button",{staticStyle:{"margin-left":"3px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("Delete")])],1)]}}])})],1),t("el-dialog",{staticStyle:{"text-align":"center"},attrs:{visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("div",{staticStyle:{"font-size":"30px","font-family":"Arial","font-weight":"bold"}},[e._v("New Child Category")]),t("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"5px",width:"80vh"},attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"Category Name: ","label-width":e.formLabelWidth,prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"Remark: ","label-width":e.formLabelWidth,prop:"remark"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-top":"-40px"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("Confirm")]),t("el-button",{attrs:{type:"warning"},on:{click:e.cancel}},[e._v("Cancel")])],1)],1),t("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{background:"","current-page":e.params.pageNum,"page-size":e.params.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.changePageNum}})],1)},o=[],l=a(4471),i={name:"List",data(){return{total:0,dialogFormVisible:!1,form:{},pid:null,rules:{name:[{required:!0,message:"Category name must not be empty",trigger:"blur"}],remark:[{required:!0,message:"Remark must not be empty",trigger:"blur"}]},formLabelWidth:"200px",tableData:[],params:{pageNum:1,pageSize:15,name:""}}},created(){this.load()},methods:{del(e){l.Z.delete("category/delete/"+e).then((e=>{"200"===e.code?(this.$notify.success("Deleted"),this.load()):this.$notify.error(e.msg)}))},load(){l.Z.get("category/page",{params:this.params}).then((e=>{"200"===e.code&&(this.tableData=e.data.list,this.total=e.data.total)}))},addChild(e){this.pid=e.id,this.dialogFormVisible=!0},reset(){this.params={pageNum:1,pageSize:10,name:""},this.load()},changePageNum(e){this.params.pageNum=e,this.load()},cancel(){this.dialogFormVisible=!1,this.$refs["ruleForm"].resetFields()},save(){this.$refs["ruleForm"].validate((e=>{e&&(this.form.pid=this.pid,l.Z.post("category/save",this.form).then((e=>{"200"===e.code?(this.$notify.success("Submitted"),this.$refs["ruleForm"].resetFields(),this.dialogFormVisible=!1,location.reload()):this.$notify.error(e.msg)})))}))}}},s=i,n=a(1001),m=(0,n.Z)(s,r,o,!1,null,"b959ad52",null),c=m.exports}}]);
//# sourceMappingURL=678.945719a6.js.map